## 音视频与即时通讯业务

### 目录

- 1.音视频
- 2.即时通讯

### 1.音视频

视频封装格式：压缩过的视频数据和音频数据打包成一个文件。MP4/FLV/TS。

视频播放：ijkplayer开源库。基于FFmpeg(官网)开发。FFmpeg：音视频转换和流的传输。FFmpeg音视频的同步：按照视频和音频的时间戳按照时间排序插入队列。实现原理：视频进行压缩编码，解析成一帧一帧，显示在屏幕上。

视频录制：Camera摄像头录制视频类，MediaProjection屏幕录制视频类

视频编码：对视频进行压缩，将原始的视频流压缩成特定的比特流。MediaCodec，MediaRecorder。解码：对编码的视频进行解压缩处理。视频编码-H264/H265/VP9；音频编码-AAC/OPUS。音频：DTS-解码时间戳；PTS-显示时间戳。

视频预览：SurfaceView,GLSurfaceView,TextureView,VideoView

视频间通信：

- 视频推拉流：需要时间，一对多。一边一个人推流一边很多人在拉流观看，有延时。协议：RTMP-实时消息传输协议。
- WebRTC：实时通信技术，一对一。协议：WHATWG，socket。用途：视频会议。建立通讯流程。
- SIP：信令协议；RTP/RTCP：实时传输协议；RTSP：实时流传输协议；HLS：动态码率自适应技术。
- gstreamer：用来构建流媒体应用的开源多媒体框架(framework)，其目标是要简化音/视频应用程序的开发
- DUILib：一款强大的界面开发工具，可以将用户界面和处理逻辑彻底分离，极大地提高用户界面的开发效率，遵循bsd协议。

### 2.即时通讯(发送-接收消息)

网易云信：uikit库。自己写的协议。

openfire：xmpp协议。





